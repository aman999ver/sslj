{"ast":null,"code":"import _objectSpread from\"C:/Users/av458/Desktop/react traning/sslj/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductManagement=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[showForm,setShowForm]=useState(false);const[editingProduct,setEditingProduct]=useState(null);const[formData,setFormData]=useState({name:'',description:'',category:'Gold',metalType:'24K',weight:'',lossPercentage:'0',makingCharge:'',featured:false,isActive:true});const[images,setImages]=useState([]);const[uploading,setUploading]=useState(false);const[selectedProductReviews,setSelectedProductReviews]=useState(null);const[reviewsLoading,setReviewsLoading]=useState(false);const categories=['Gold','Silver','Rings','Necklaces','Bracelets','Earrings','Pendants','Chains'];const metalTypes=['24K','22K','Silver'];useEffect(()=>{fetchProducts();},[]);const fetchProducts=async()=>{try{const res=await axios.get('/api/products/admin/all');setProducts(res.data.products);setLoading(false);}catch(error){console.error('Error fetching products:',error);setLoading(false);}};const handleInputChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));};const handleImageChange=e=>{setImages(Array.from(e.target.files));};const handleSubmit=async e=>{e.preventDefault();setUploading(true);try{const formDataToSend=new FormData();// Add form fields\nObject.keys(formData).forEach(key=>{formDataToSend.append(key,formData[key]);});// Add images\nimages.forEach(image=>{formDataToSend.append('images',image);});if(editingProduct){await axios.put(\"/api/products/\".concat(editingProduct._id),formDataToSend);}else{await axios.post('/api/products',formDataToSend);}setShowForm(false);setEditingProduct(null);resetForm();fetchProducts();}catch(error){console.error('Error saving product:',error);alert('Error saving product. Please try again.');}finally{setUploading(false);}};const handleEdit=product=>{setEditingProduct(product);setFormData({name:product.name,description:product.description,category:product.category,metalType:product.metalType,weight:product.weight.toString(),lossPercentage:product.lossPercentage.toString(),makingCharge:product.makingCharge.toString(),featured:product.featured,isActive:product.isActive});setShowForm(true);};const handleDelete=async productId=>{if(window.confirm('Are you sure you want to delete this product?')){try{await axios.delete(\"/api/products/\".concat(productId));fetchProducts();}catch(error){console.error('Error deleting product:',error);alert('Error deleting product. Please try again.');}}};const resetForm=()=>{setFormData({name:'',description:'',category:'Gold',metalType:'24K',weight:'',lossPercentage:'0',makingCharge:'',featured:false,isActive:true});setImages([]);};const fetchProductReviews=async productId=>{setReviewsLoading(true);try{const res=await axios.get(\"/api/products/\".concat(productId,\"/reviews\"));setSelectedProductReviews({productId,reviews:res.data.reviews});}catch(err){setSelectedProductReviews({productId,reviews:[]});}finally{setReviewsLoading(false);}};const renderStars=rating=>/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 \".concat(i<rating?'text-yellow-400':'text-gray-300'),fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.175c.969 0 1.371 1.24.588 1.81l-3.38 2.455a1 1 0 00-.364 1.118l1.287 3.966c.3.922-.755 1.688-1.54 1.118l-3.38-2.454a1 1 0 00-1.175 0l-3.38 2.454c-.784.57-1.838-.196-1.54-1.118l1.287-3.966a1 1 0 00-.364-1.118L2.05 9.394c-.783-.57-.38-1.81.588-1.81h4.175a1 1 0 00.95-.69l1.286-3.967z\"})},i))});if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-premium\",children:\"Loading products...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-elegant font-bold text-gold-800\",children:\"Product Management\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(true),className:\"bg-luxury-gradient text-white px-6 py-2 rounded-lg font-premium font-semibold hover:shadow-premium transition-all duration-300\",children:\"Add New Product\"})]}),showForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 shadow-luxury border border-gold-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-elegant font-bold text-gold-800 mb-6\",children:editingProduct?'Edit Product':'Add New Product'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-premium font-semibold text-gray-700 mb-2\",children:\"Product Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,required:true,className:\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-premium font-semibold text-gray-700 mb-2\",children:\"Category *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"category\",value:formData.category,onChange:handleInputChange,required:true,className:\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\",children:categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-premium font-semibold text-gray-700 mb-2\",children:\"Metal Type *\"}),/*#__PURE__*/_jsx(\"select\",{name:\"metalType\",value:formData.metalType,onChange:handleInputChange,required:true,className:\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\",children:metalTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-premium font-semibold text-gray-700 mb-2\",children:\"Weight (grams) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",value:formData.weight,onChange:handleInputChange,step:\"0.01\",min:\"0.1\",required:true,className:\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-premium font-semibold text-gray-700 mb-2\",children:\"Loss Percentage (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"lossPercentage\",value:formData.lossPercentage,onChange:handleInputChange,step:\"0.1\",min:\"0\",max:\"50\",className:\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-premium font-semibold text-gray-700 mb-2\",children:\"Making Charge (NPR) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"makingCharge\",value:formData.makingCharge,onChange:handleInputChange,min:\"0\",required:true,className:\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-premium font-semibold text-gray-700 mb-2\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleInputChange,required:true,rows:\"3\",className:\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-premium font-semibold text-gray-700 mb-2\",children:\"Product Images *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handleImageChange,required:!editingProduct,className:\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Select multiple images (max 5, each up to 5MB)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"featured\",checked:formData.featured,onChange:handleInputChange,className:\"rounded border-gold-300 text-gold-600 focus:ring-gold-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm font-premium\",children:\"Featured Product\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isActive\",checked:formData.isActive,onChange:handleInputChange,className:\"rounded border-gold-300 text-gold-600 focus:ring-gold-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm font-premium\",children:\"Active\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:uploading,className:\"bg-luxury-gradient text-white px-6 py-2 rounded-lg font-premium font-semibold hover:shadow-premium transition-all duration-300 disabled:opacity-50\",children:uploading?'Saving...':editingProduct?'Update Product':'Add Product'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowForm(false);setEditingProduct(null);resetForm();},className:\"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-premium font-semibold hover:bg-gray-300 transition-colors\",children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-luxury border border-gold-100 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gold-100\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-elegant font-bold text-gold-800\",children:\"All Products\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gold-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\",children:\"Metal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\",children:\"Weight\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gold-100\",children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gold-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.images[0],alt:product.name,className:\"w-12 h-12 object-cover rounded-lg mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-premium font-semibold text-gray-900\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"SKU: \",product.sku]})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:product.category}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:product.metalType}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[product.weight,\"g\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-premium \".concat(product.isActive?'bg-green-100 text-green-700':'bg-red-100 text-red-700'),children:product.isActive?'Active':'Inactive'}),product.featured&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-premium bg-ruby-100 text-ruby-700\",children:\"Featured\"})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-premium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(product),className:\"text-gold-600 hover:text-gold-800 transition-colors\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(product._id),className:\"text-ruby-600 hover:text-ruby-800 transition-colors\",children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchProductReviews(product._id),className:\"text-blue-600 hover:text-blue-800 transition-colors\",children:\"View Reviews\"})]})})]},product._id))})]})})]}),selectedProductReviews&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8 max-w-2xl w-full relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedProductReviews(null),className:\"absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-6\",children:\"Product Reviews\"}),reviewsLoading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading...\"}):selectedProductReviews.reviews.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 font-premium\",children:\"No reviews for this product.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6 max-h-96 overflow-y-auto\",children:selectedProductReviews.reviews.map(rev=>{var _rev$user;return/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gold-100 pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-premium font-semibold text-gold-700\",children:((_rev$user=rev.user)===null||_rev$user===void 0?void 0:_rev$user.firstName)||'Customer'}),renderStars(rev.rating),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:new Date(rev.createdAt).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-700 font-premium mb-1\",children:rev.comment}),rev.adminReply&&/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 mt-2 p-3 bg-gold-50 rounded-lg border-l-4 border-gold-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gold-700\",children:\"Admin Reply:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-700\",children:rev.adminReply})]})]},rev._id);})})]})})]});};export default ProductManagement;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ProductManagement","products","setProducts","loading","setLoading","showForm","setShowForm","editingProduct","setEditingProduct","formData","setFormData","name","description","category","metalType","weight","lossPercentage","makingCharge","featured","isActive","images","setImages","uploading","setUploading","selectedProductReviews","setSelectedProductReviews","reviewsLoading","setReviewsLoading","categories","metalTypes","fetchProducts","res","get","data","error","console","handleInputChange","e","value","type","checked","target","prev","_objectSpread","handleImageChange","Array","from","files","handleSubmit","preventDefault","formDataToSend","FormData","Object","keys","forEach","key","append","image","put","concat","_id","post","resetForm","alert","handleEdit","product","toString","handleDelete","productId","window","confirm","delete","fetchProductReviews","reviews","err","renderStars","rating","className","children","map","_","i","fill","viewBox","d","onClick","onSubmit","onChange","required","cat","step","min","max","rows","multiple","accept","disabled","src","alt","sku","length","rev","_rev$user","user","firstName","Date","createdAt","toLocaleDateString","comment","adminReply"],"sources":["C:/Users/av458/Desktop/react traning/sslj/client/src/admin/ProductManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ProductManagement = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingProduct, setEditingProduct] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    category: 'Gold',\r\n    metalType: '24K',\r\n    weight: '',\r\n    lossPercentage: '0',\r\n    makingCharge: '',\r\n    featured: false,\r\n    isActive: true\r\n  });\r\n  const [images, setImages] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [selectedProductReviews, setSelectedProductReviews] = useState(null);\r\n  const [reviewsLoading, setReviewsLoading] = useState(false);\r\n\r\n  const categories = ['Gold', 'Silver', 'Rings', 'Necklaces', 'Bracelets', 'Earrings', 'Pendants', 'Chains'];\r\n  const metalTypes = ['24K', '22K', 'Silver'];\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const res = await axios.get('/api/products/admin/all');\r\n      setProducts(res.data.products);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    setImages(Array.from(e.target.files));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setUploading(true);\r\n\r\n    try {\r\n      const formDataToSend = new FormData();\r\n      \r\n      // Add form fields\r\n      Object.keys(formData).forEach(key => {\r\n        formDataToSend.append(key, formData[key]);\r\n      });\r\n\r\n      // Add images\r\n      images.forEach(image => {\r\n        formDataToSend.append('images', image);\r\n      });\r\n\r\n      if (editingProduct) {\r\n        await axios.put(`/api/products/${editingProduct._id}`, formDataToSend);\r\n      } else {\r\n        await axios.post('/api/products', formDataToSend);\r\n      }\r\n\r\n      setShowForm(false);\r\n      setEditingProduct(null);\r\n      resetForm();\r\n      fetchProducts();\r\n    } catch (error) {\r\n      console.error('Error saving product:', error);\r\n      alert('Error saving product. Please try again.');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (product) => {\r\n    setEditingProduct(product);\r\n    setFormData({\r\n      name: product.name,\r\n      description: product.description,\r\n      category: product.category,\r\n      metalType: product.metalType,\r\n      weight: product.weight.toString(),\r\n      lossPercentage: product.lossPercentage.toString(),\r\n      makingCharge: product.makingCharge.toString(),\r\n      featured: product.featured,\r\n      isActive: product.isActive\r\n    });\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = async (productId) => {\r\n    if (window.confirm('Are you sure you want to delete this product?')) {\r\n      try {\r\n        await axios.delete(`/api/products/${productId}`);\r\n        fetchProducts();\r\n      } catch (error) {\r\n        console.error('Error deleting product:', error);\r\n        alert('Error deleting product. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      description: '',\r\n      category: 'Gold',\r\n      metalType: '24K',\r\n      weight: '',\r\n      lossPercentage: '0',\r\n      makingCharge: '',\r\n      featured: false,\r\n      isActive: true\r\n    });\r\n    setImages([]);\r\n  };\r\n\r\n  const fetchProductReviews = async (productId) => {\r\n    setReviewsLoading(true);\r\n    try {\r\n      const res = await axios.get(`/api/products/${productId}/reviews`);\r\n      setSelectedProductReviews({ productId, reviews: res.data.reviews });\r\n    } catch (err) {\r\n      setSelectedProductReviews({ productId, reviews: [] });\r\n    } finally {\r\n      setReviewsLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderStars = (rating) => (\r\n    <span className=\"flex items-center\">\r\n      {[...Array(5)].map((_, i) => (\r\n        <svg\r\n          key={i}\r\n          className={`w-4 h-4 ${i < rating ? 'text-yellow-400' : 'text-gray-300'}`}\r\n          fill=\"currentColor\"\r\n          viewBox=\"0 0 20 20\"\r\n        >\r\n          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.175c.969 0 1.371 1.24.588 1.81l-3.38 2.455a1 1 0 00-.364 1.118l1.287 3.966c.3.922-.755 1.688-1.54 1.118l-3.38-2.454a1 1 0 00-1.175 0l-3.38 2.454c-.784.57-1.838-.196-1.54-1.118l1.287-3.966a1 1 0 00-.364-1.118L2.05 9.394c-.783-.57-.38-1.81.588-1.81h4.175a1 1 0 00.95-.69l1.286-3.967z\" />\r\n        </svg>\r\n      ))}\r\n    </span>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"text-center py-20\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600 mx-auto mb-4\"></div>\r\n        <p className=\"text-gray-600 font-premium\">Loading products...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-elegant font-bold text-gold-800\">Product Management</h2>\r\n        <button\r\n          onClick={() => setShowForm(true)}\r\n          className=\"bg-luxury-gradient text-white px-6 py-2 rounded-lg font-premium font-semibold hover:shadow-premium transition-all duration-300\"\r\n        >\r\n          Add New Product\r\n        </button>\r\n      </div>\r\n\r\n      {/* Product Form */}\r\n      {showForm && (\r\n        <div className=\"bg-white rounded-xl p-6 shadow-luxury border border-gold-100\">\r\n          <h3 className=\"text-xl font-elegant font-bold text-gold-800 mb-6\">\r\n            {editingProduct ? 'Edit Product' : 'Add New Product'}\r\n          </h3>\r\n          \r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-premium font-semibold text-gray-700 mb-2\">\r\n                  Product Name *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={formData.name}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  className=\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-premium font-semibold text-gray-700 mb-2\">\r\n                  Category *\r\n                </label>\r\n                <select\r\n                  name=\"category\"\r\n                  value={formData.category}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  className=\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"\r\n                >\r\n                  {categories.map(cat => (\r\n                    <option key={cat} value={cat}>{cat}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-premium font-semibold text-gray-700 mb-2\">\r\n                  Metal Type *\r\n                </label>\r\n                <select\r\n                  name=\"metalType\"\r\n                  value={formData.metalType}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  className=\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"\r\n                >\r\n                  {metalTypes.map(type => (\r\n                    <option key={type} value={type}>{type}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-premium font-semibold text-gray-700 mb-2\">\r\n                  Weight (grams) *\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"weight\"\r\n                  value={formData.weight}\r\n                  onChange={handleInputChange}\r\n                  step=\"0.01\"\r\n                  min=\"0.1\"\r\n                  required\r\n                  className=\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-premium font-semibold text-gray-700 mb-2\">\r\n                  Loss Percentage (%)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"lossPercentage\"\r\n                  value={formData.lossPercentage}\r\n                  onChange={handleInputChange}\r\n                  step=\"0.1\"\r\n                  min=\"0\"\r\n                  max=\"50\"\r\n                  className=\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-premium font-semibold text-gray-700 mb-2\">\r\n                  Making Charge (NPR) *\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"makingCharge\"\r\n                  value={formData.makingCharge}\r\n                  onChange={handleInputChange}\r\n                  min=\"0\"\r\n                  required\r\n                  className=\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-premium font-semibold text-gray-700 mb-2\">\r\n                Description *\r\n              </label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={formData.description}\r\n                onChange={handleInputChange}\r\n                required\r\n                rows=\"3\"\r\n                className=\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-premium font-semibold text-gray-700 mb-2\">\r\n                Product Images *\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                multiple\r\n                accept=\"image/*\"\r\n                onChange={handleImageChange}\r\n                required={!editingProduct}\r\n                className=\"w-full border border-gold-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-gold-500 focus:border-transparent\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-1\">Select multiple images (max 5, each up to 5MB)</p>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-6\">\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"featured\"\r\n                  checked={formData.featured}\r\n                  onChange={handleInputChange}\r\n                  className=\"rounded border-gold-300 text-gold-600 focus:ring-gold-500\"\r\n                />\r\n                <span className=\"ml-2 text-sm font-premium\">Featured Product</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"isActive\"\r\n                  checked={formData.isActive}\r\n                  onChange={handleInputChange}\r\n                  className=\"rounded border-gold-300 text-gold-600 focus:ring-gold-500\"\r\n                />\r\n                <span className=\"ml-2 text-sm font-premium\">Active</span>\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={uploading}\r\n                className=\"bg-luxury-gradient text-white px-6 py-2 rounded-lg font-premium font-semibold hover:shadow-premium transition-all duration-300 disabled:opacity-50\"\r\n              >\r\n                {uploading ? 'Saving...' : (editingProduct ? 'Update Product' : 'Add Product')}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setShowForm(false);\r\n                  setEditingProduct(null);\r\n                  resetForm();\r\n                }}\r\n                className=\"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-premium font-semibold hover:bg-gray-300 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* Products List */}\r\n      <div className=\"bg-white rounded-xl shadow-luxury border border-gold-100 overflow-hidden\">\r\n        <div className=\"p-6 border-b border-gold-100\">\r\n          <h3 className=\"text-xl font-elegant font-bold text-gold-800\">All Products</h3>\r\n        </div>\r\n        \r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gold-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\">\r\n                  Product\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\">\r\n                  Category\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\">\r\n                  Metal\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\">\r\n                  Weight\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-premium font-semibold text-gray-600 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gold-100\">\r\n              {products.map(product => (\r\n                <tr key={product._id} className=\"hover:bg-gold-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"flex items-center\">\r\n                      <img\r\n                        src={product.images[0]}\r\n                        alt={product.name}\r\n                        className=\"w-12 h-12 object-cover rounded-lg mr-3\"\r\n                      />\r\n                      <div>\r\n                        <div className=\"text-sm font-premium font-semibold text-gray-900\">\r\n                          {product.name}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          SKU: {product.sku}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                    {product.category}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                    {product.metalType}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                    {product.weight}g\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"flex space-x-2\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-premium ${\r\n                        product.isActive ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'\r\n                      }`}>\r\n                        {product.isActive ? 'Active' : 'Inactive'}\r\n                      </span>\r\n                      {product.featured && (\r\n                        <span className=\"px-2 py-1 rounded-full text-xs font-premium bg-ruby-100 text-ruby-700\">\r\n                          Featured\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-premium\">\r\n                    <div className=\"flex space-x-2\">\r\n                      <button\r\n                        onClick={() => handleEdit(product)}\r\n                        className=\"text-gold-600 hover:text-gold-800 transition-colors\"\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDelete(product._id)}\r\n                        className=\"text-ruby-600 hover:text-ruby-800 transition-colors\"\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                      <button\r\n                        onClick={() => fetchProductReviews(product._id)}\r\n                        className=\"text-blue-600 hover:text-blue-800 transition-colors\"\r\n                      >\r\n                        View Reviews\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Render reviews modal/section if selectedProductReviews is set */}\r\n      {selectedProductReviews && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-xl shadow-lg p-8 max-w-2xl w-full relative\">\r\n            <button\r\n              onClick={() => setSelectedProductReviews(null)}\r\n              className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl\"\r\n            >\r\n              &times;\r\n            </button>\r\n            <h3 className=\"text-xl font-bold mb-6\">Product Reviews</h3>\r\n            {reviewsLoading ? (\r\n              <div className=\"text-center py-8\">Loading...</div>\r\n            ) : selectedProductReviews.reviews.length === 0 ? (\r\n              <div className=\"text-gray-500 font-premium\">No reviews for this product.</div>\r\n            ) : (\r\n              <div className=\"space-y-6 max-h-96 overflow-y-auto\">\r\n                {selectedProductReviews.reviews.map((rev) => (\r\n                  <div key={rev._id} className=\"border-b border-gold-100 pb-4\">\r\n                    <div className=\"flex items-center space-x-3 mb-2\">\r\n                      <span className=\"font-premium font-semibold text-gold-700\">{rev.user?.firstName || 'Customer'}</span>\r\n                      {renderStars(rev.rating)}\r\n                      <span className=\"text-xs text-gray-400\">{new Date(rev.createdAt).toLocaleDateString()}</span>\r\n                    </div>\r\n                    <div className=\"text-gray-700 font-premium mb-1\">{rev.comment}</div>\r\n                    {rev.adminReply && (\r\n                      <div className=\"ml-4 mt-2 p-3 bg-gold-50 rounded-lg border-l-4 border-gold-400\">\r\n                        <span className=\"font-semibold text-gold-700\">Admin Reply:</span>\r\n                        <span className=\"ml-2 text-gray-700\">{rev.adminReply}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}