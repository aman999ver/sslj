{"ast":null,"code":"import _objectSpread from\"C:/Users/av458/Desktop/react traning/sslj/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useCart}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CheckoutPage=()=>{const{cart,loading,clearCart}=useCart();const navigate=useNavigate();const[user,setUser]=useState(null);const[paymentMethod,setPaymentMethod]=useState('COD');const[shippingAddress,setShippingAddress]=useState({street:'',city:'',state:'',pincode:''});const[billingAddress,setBillingAddress]=useState({street:'',city:'',state:'',pincode:''});const[sameAsShipping,setSameAsShipping]=useState(true);const[notes,setNotes]=useState('');const[orderLoading,setOrderLoading]=useState(false);// Payment screenshot upload states\nconst[paymentScreenshot,setPaymentScreenshot]=useState('');const[transactionId,setTransactionId]=useState('');const[paymentGateway,setPaymentGateway]=useState('');const[paymentNotes,setPaymentNotes]=useState('');const[paymentMethods,setPaymentMethods]=useState([]);const[methodsLoading,setMethodsLoading]=useState(true);const[methodsError,setMethodsError]=useState('');useEffect(()=>{const token=localStorage.getItem('clientToken');if(!token){navigate('/login');return;}// Load user profile\nfetch('/api/client/profile',{headers:{'Authorization':\"Bearer \".concat(token)}}).then(res=>res.json()).then(data=>{if(data.success){setUser(data.user);setShippingAddress(data.user.address);setBillingAddress(data.user.address);}}).catch(err=>console.error('Failed to load user:',err));// Fetch payment methods\nfetch('/api/payment-methods').then(res=>res.json()).then(data=>{if(data.success){setPaymentMethods(data.methods);}else{setMethodsError('Failed to load payment methods');}}).catch(()=>setMethodsError('Failed to load payment methods')).finally(()=>setMethodsLoading(false));},[navigate]);useEffect(()=>{if(sameAsShipping){setBillingAddress(shippingAddress);}},[sameAsShipping,shippingAddress]);const handleAddressChange=(type,field,value)=>{if(type==='shipping'){setShippingAddress(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));}else{setBillingAddress(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));}};const handleFileUpload=e=>{const file=e.target.files[0];if(file){const reader=new FileReader();reader.onload=e=>{setPaymentScreenshot(e.target.result);};reader.readAsDataURL(file);}};const validatePaymentDetails=()=>{if(paymentMethod==='ESEWA'||paymentMethod==='BANK_TRANSFER'){if(!paymentScreenshot){window.alert('Please upload payment screenshot');return false;}if(!transactionId.trim()){window.alert('Please enter transaction ID');return false;}}return true;};const handlePlaceOrder=async()=>{if(!user)return;if(!validatePaymentDetails()){return;}setOrderLoading(true);try{const token=localStorage.getItem('clientToken');const orderData=_objectSpread({paymentMethod,shippingAddress,billingAddress:sameAsShipping?shippingAddress:billingAddress,notes},paymentMethod==='ESEWA'||paymentMethod==='BANK_TRANSFER'?{paymentScreenshot,transactionId,paymentGateway,paymentNotes}:{});const response=await fetch('/api/orders/place',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(orderData)});const data=await response.json();if(data.success){window.alert('Order placed successfully!');clearCart();navigate('/orders');}else{window.alert(data.message||'Failed to place order');}}catch(error){console.error('Failed to place order:',error);window.alert('Failed to place order');}finally{setOrderLoading(false);}};// Helper to get method by type\nconst getMethodByType=type=>paymentMethods.find(m=>m.type&&m.type.toLowerCase()===type.toLowerCase());if(loading||!user){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading checkout...\"})]})});}if(cart.items.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"Your cart is empty\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Add some items to your cart before checkout\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/products'),className:\"bg-gold-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gold-700 transition\",children:\"Continue Shopping\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mb-8\",children:\"Checkout\"}),methodsLoading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading payment methods...\"}):methodsError?/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-red-600 py-8\",children:methodsError}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"Shipping Address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Street Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:shippingAddress.street,onChange:e=>handleAddressChange('shipping','street',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:shippingAddress.city,onChange:e=>handleAddressChange('shipping','city',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"State\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:shippingAddress.state,onChange:e=>handleAddressChange('shipping','state',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Pincode\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:shippingAddress.pincode,onChange:e=>handleAddressChange('shipping','pincode',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2\",required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"Billing Address\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:sameAsShipping,onChange:e=>setSameAsShipping(e.target.checked),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Same as shipping address\"})]})]}),!sameAsShipping&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Street Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:billingAddress.street,onChange:e=>handleAddressChange('billing','street',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:billingAddress.city,onChange:e=>handleAddressChange('billing','city',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"State\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:billingAddress.state,onChange:e=>handleAddressChange('billing','state',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Pincode\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:billingAddress.pincode,onChange:e=>handleAddressChange('billing','pincode',e.target.value),className:\"w-full border border-gray-300 rounded-md px-3 py-2\",required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"paymentMethod\",value:\"COD\",checked:paymentMethod==='COD',onChange:e=>setPaymentMethod(e.target.value),className:\"mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-800\",children:\"Cash on Delivery\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Pay when you receive your order\"})]})]}),getMethodByType('eSewa')&&/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"paymentMethod\",value:\"ESEWA\",checked:paymentMethod==='ESEWA',onChange:e=>setPaymentMethod(e.target.value),className:\"mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-800\",children:\"eSewa Payment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Pay securely through eSewa\"})]})]}),getMethodByType('Bank')&&/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"paymentMethod\",value:\"BANK_TRANSFER\",checked:paymentMethod==='BANK_TRANSFER',onChange:e=>setPaymentMethod(e.target.value),className:\"mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-800\",children:\"Bank Transfer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Transfer to our bank account\"})]})]})]}),paymentMethod==='BANK_TRANSFER'&&getMethodByType('Bank')&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-blue-800 mb-2\",children:\"Bank Details for Transfer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-700 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Bank:\"}),\" \",getMethodByType('Bank').bankName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Account Name:\"}),\" \",getMethodByType('Bank').accountHolder]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Account Number:\"}),\" \",getMethodByType('Bank').accountNumber]})]}),getMethodByType('Bank').qrCode&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:getMethodByType('Bank').qrCode,alt:\"Bank QR Code\",className:\"w-32 h-32 object-contain border border-blue-300 rounded-lg mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-600 mt-2\",children:\"Scan this QR code to pay\"})]})]}),paymentMethod==='ESEWA'&&getMethodByType('eSewa')&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-green-800 mb-2\",children:\"eSewa Payment Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-700 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"eSewa ID:\"}),\" \",getMethodByType('eSewa').accountNumber]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Merchant Name:\"}),\" \",getMethodByType('eSewa').accountHolder]})]}),getMethodByType('eSewa').qrCode&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:getMethodByType('eSewa').qrCode,alt:\"eSewa QR\",className:\"w-32 h-32 object-contain border border-green-300 rounded-lg mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-600 mt-2\",children:\"Scan with eSewa app to pay\"})]})]}),(paymentMethod==='ESEWA'||paymentMethod==='BANK_TRANSFER')&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-yellow-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-yellow-800 mb-3\",children:\"Payment Verification Required\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Payment Screenshot *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileUpload,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"}),paymentScreenshot&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"img\",{src:paymentScreenshot,alt:\"Payment Screenshot\",className:\"w-32 h-32 object-contain border border-gray-300 rounded\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Transaction ID *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:transactionId,onChange:e=>setTransactionId(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter transaction ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Payment Gateway\"}),/*#__PURE__*/_jsxs(\"select\",{value:paymentGateway,onChange:e=>setPaymentGateway(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select payment gateway\"}),/*#__PURE__*/_jsx(\"option\",{value:\"UPI\",children:\"UPI\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Net Banking\",children:\"Net Banking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Credit Card\",children:\"Credit Card\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Debit Card\",children:\"Debit Card\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Paytm\",children:\"Paytm\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PhonePe\",children:\"PhonePe\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Google Pay\",children:\"Google Pay\"}),/*#__PURE__*/_jsx(\"option\",{value:\"eSewa\",children:\"eSewa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Payment Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:paymentNotes,onChange:e=>setPaymentNotes(e.target.value),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Any additional notes about the payment...\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-3 bg-yellow-100 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Please complete your payment first, then upload the screenshot. Admin will verify your payment before processing the order.\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"Order Notes (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),placeholder:\"Any special instructions for your order...\",className:\"w-full border border-gray-300 rounded-md px-3 py-2 h-24 resize-none\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 sticky top-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800 mb-4\",children:\"Order Summary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 mb-6\",children:cart.items.map(item=>{var _item$product,_item$product2,_item$product2$images,_item$product3,_item$product4;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_item$product2=item.product)===null||_item$product2===void 0?void 0:(_item$product2$images=_item$product2.images)===null||_item$product2$images===void 0?void 0:_item$product2$images[0])||'/placeholder-image.jpg',alt:((_item$product3=item.product)===null||_item$product3===void 0?void 0:_item$product3.name)||'Product',className:\"w-12 h-12 object-cover rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-800 text-sm\",children:((_item$product4=item.product)===null||_item$product4===void 0?void 0:_item$product4.name)||'Product'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Qty: \",item.quantity]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-gray-800\",children:[\"NPR \",((item.price||0)*item.quantity).toLocaleString()]})})]},((_item$product=item.product)===null||_item$product===void 0?void 0:_item$product._id)||item.product);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-4 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"NPR \",cart.totalAmount.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Shipping\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Free\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Tax\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"NPR 0\"})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-lg font-bold\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gold-600\",children:[\"NPR \",cart.totalAmount.toLocaleString()]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePlaceOrder,disabled:orderLoading,className:\"w-full bg-gold-600 text-white py-3 rounded-lg font-semibold hover:bg-gold-700 transition disabled:opacity-50 disabled:cursor-not-allowed mt-6\",children:orderLoading?'Placing Order...':'Place Order'})]})})]})]})});};export default CheckoutPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useCart","jsx","_jsx","jsxs","_jsxs","CheckoutPage","cart","loading","clearCart","navigate","user","setUser","paymentMethod","setPaymentMethod","shippingAddress","setShippingAddress","street","city","state","pincode","billingAddress","setBillingAddress","sameAsShipping","setSameAsShipping","notes","setNotes","orderLoading","setOrderLoading","paymentScreenshot","setPaymentScreenshot","transactionId","setTransactionId","paymentGateway","setPaymentGateway","paymentNotes","setPaymentNotes","paymentMethods","setPaymentMethods","methodsLoading","setMethodsLoading","methodsError","setMethodsError","token","localStorage","getItem","fetch","headers","concat","then","res","json","data","success","address","catch","err","console","error","methods","finally","handleAddressChange","type","field","value","prev","_objectSpread","handleFileUpload","e","file","target","files","reader","FileReader","onload","result","readAsDataURL","validatePaymentDetails","window","alert","trim","handlePlaceOrder","orderData","response","method","body","JSON","stringify","message","getMethodByType","find","m","toLowerCase","className","children","items","length","onClick","onChange","required","checked","name","bankName","accountHolder","accountNumber","qrCode","src","alt","accept","placeholder","rows","map","item","_item$product","_item$product2","_item$product2$images","_item$product3","_item$product4","product","images","quantity","price","toLocaleString","_id","totalAmount","disabled"],"sources":["C:/Users/av458/Desktop/react traning/sslj/client/src/pages/CheckoutPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useCart } from '../context/CartContext';\r\n\r\nconst CheckoutPage = () => {\r\n  const { cart, loading, clearCart } = useCart();\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState(null);\r\n  const [paymentMethod, setPaymentMethod] = useState('COD');\r\n  const [shippingAddress, setShippingAddress] = useState({\r\n    street: '',\r\n    city: '',\r\n    state: '',\r\n    pincode: ''\r\n  });\r\n  const [billingAddress, setBillingAddress] = useState({\r\n    street: '',\r\n    city: '',\r\n    state: '',\r\n    pincode: ''\r\n  });\r\n  const [sameAsShipping, setSameAsShipping] = useState(true);\r\n  const [notes, setNotes] = useState('');\r\n  const [orderLoading, setOrderLoading] = useState(false);\r\n  \r\n  // Payment screenshot upload states\r\n  const [paymentScreenshot, setPaymentScreenshot] = useState('');\r\n  const [transactionId, setTransactionId] = useState('');\r\n  const [paymentGateway, setPaymentGateway] = useState('');\r\n  const [paymentNotes, setPaymentNotes] = useState('');\r\n  const [paymentMethods, setPaymentMethods] = useState([]);\r\n  const [methodsLoading, setMethodsLoading] = useState(true);\r\n  const [methodsError, setMethodsError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('clientToken');\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    // Load user profile\r\n    fetch('/api/client/profile', {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.success) {\r\n          setUser(data.user);\r\n          setShippingAddress(data.user.address);\r\n          setBillingAddress(data.user.address);\r\n        }\r\n      })\r\n      .catch(err => console.error('Failed to load user:', err));\r\n\r\n    // Fetch payment methods\r\n    fetch('/api/payment-methods')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.success) {\r\n          setPaymentMethods(data.methods);\r\n        } else {\r\n          setMethodsError('Failed to load payment methods');\r\n        }\r\n      })\r\n      .catch(() => setMethodsError('Failed to load payment methods'))\r\n      .finally(() => setMethodsLoading(false));\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    if (sameAsShipping) {\r\n      setBillingAddress(shippingAddress);\r\n    }\r\n  }, [sameAsShipping, shippingAddress]);\r\n\r\n  const handleAddressChange = (type, field, value) => {\r\n    if (type === 'shipping') {\r\n      setShippingAddress(prev => ({ ...prev, [field]: value }));\r\n    } else {\r\n      setBillingAddress(prev => ({ ...prev, [field]: value }));\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setPaymentScreenshot(e.target.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const validatePaymentDetails = () => {\r\n    if (paymentMethod === 'ESEWA' || paymentMethod === 'BANK_TRANSFER') {\r\n      if (!paymentScreenshot) {\r\n        window.alert('Please upload payment screenshot');\r\n        return false;\r\n      }\r\n      if (!transactionId.trim()) {\r\n        window.alert('Please enter transaction ID');\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handlePlaceOrder = async () => {\r\n    if (!user) return;\r\n\r\n    if (!validatePaymentDetails()) {\r\n      return;\r\n    }\r\n\r\n    setOrderLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('clientToken');\r\n      const orderData = {\r\n        paymentMethod,\r\n        shippingAddress,\r\n        billingAddress: sameAsShipping ? shippingAddress : billingAddress,\r\n        notes,\r\n        // Include payment details for screenshot payments\r\n        ...(paymentMethod === 'ESEWA' || paymentMethod === 'BANK_TRANSFER' ? {\r\n          paymentScreenshot,\r\n          transactionId,\r\n          paymentGateway,\r\n          paymentNotes\r\n        } : {})\r\n      };\r\n\r\n      const response = await fetch('/api/orders/place', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(orderData)\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        window.alert('Order placed successfully!');\r\n        clearCart();\r\n        navigate('/orders');\r\n      } else {\r\n        window.alert(data.message || 'Failed to place order');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to place order:', error);\r\n      window.alert('Failed to place order');\r\n    } finally {\r\n      setOrderLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helper to get method by type\r\n  const getMethodByType = (type) => paymentMethods.find(m => m.type && m.type.toLowerCase() === type.toLowerCase());\r\n\r\n  if (loading || !user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading checkout...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (cart.items.length === 0) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Your cart is empty</h2>\r\n          <p className=\"text-gray-600 mb-6\">Add some items to your cart before checkout</p>\r\n          <button\r\n            onClick={() => navigate('/products')}\r\n            className=\"bg-gold-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gold-700 transition\"\r\n          >\r\n            Continue Shopping\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-6xl mx-auto px-4\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Checkout</h1>\r\n        {methodsLoading ? (\r\n          <div className=\"text-center py-8\">Loading payment methods...</div>\r\n        ) : methodsError ? (\r\n          <div className=\"text-center text-red-600 py-8\">{methodsError}</div>\r\n        ) : (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n          {/* Checkout Form */}\r\n          <div className=\"space-y-6\">\r\n            {/* Shipping Address */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n              <h2 className=\"text-xl font-bold text-gray-800 mb-4\">Shipping Address</h2>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Street Address</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={shippingAddress.street}\r\n                    onChange={(e) => handleAddressChange('shipping', 'street', e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">City</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={shippingAddress.city}\r\n                      onChange={(e) => handleAddressChange('shipping', 'city', e.target.value)}\r\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">State</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={shippingAddress.state}\r\n                      onChange={(e) => handleAddressChange('shipping', 'state', e.target.value)}\r\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Pincode</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={shippingAddress.pincode}\r\n                    onChange={(e) => handleAddressChange('shipping', 'pincode', e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Billing Address */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h2 className=\"text-xl font-bold text-gray-800\">Billing Address</h2>\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={sameAsShipping}\r\n                    onChange={(e) => setSameAsShipping(e.target.checked)}\r\n                    className=\"mr-2\"\r\n                  />\r\n                  <span className=\"text-sm text-gray-600\">Same as shipping address</span>\r\n                </label>\r\n              </div>\r\n              {!sameAsShipping && (\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Street Address</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={billingAddress.street}\r\n                      onChange={(e) => handleAddressChange('billing', 'street', e.target.value)}\r\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">City</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={billingAddress.city}\r\n                        onChange={(e) => handleAddressChange('billing', 'city', e.target.value)}\r\n                        className=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">State</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={billingAddress.state}\r\n                        onChange={(e) => handleAddressChange('billing', 'state', e.target.value)}\r\n                        className=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Pincode</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={billingAddress.pincode}\r\n                      onChange={(e) => handleAddressChange('billing', 'pincode', e.target.value)}\r\n                      className=\"w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Payment Method */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n              <h2 className=\"text-xl font-bold text-gray-800 mb-4\">Payment Method</h2>\r\n              <div className=\"space-y-4\">\r\n                {/* Cash on Delivery */}\r\n                <label className=\"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"paymentMethod\"\r\n                    value=\"COD\"\r\n                    checked={paymentMethod === 'COD'}\r\n                    onChange={(e) => setPaymentMethod(e.target.value)}\r\n                    className=\"mr-3\"\r\n                  />\r\n                  <div>\r\n                    <div className=\"font-semibold text-gray-800\">Cash on Delivery</div>\r\n                    <div className=\"text-sm text-gray-600\">Pay when you receive your order</div>\r\n                  </div>\r\n                </label>\r\n                {/* eSewa Payment */}\r\n                {getMethodByType('eSewa') && (\r\n                  <label className=\"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"paymentMethod\"\r\n                      value=\"ESEWA\"\r\n                      checked={paymentMethod === 'ESEWA'}\r\n                      onChange={(e) => setPaymentMethod(e.target.value)}\r\n                      className=\"mr-3\"\r\n                    />\r\n                    <div>\r\n                      <div className=\"font-semibold text-gray-800\">eSewa Payment</div>\r\n                      <div className=\"text-sm text-gray-600\">Pay securely through eSewa</div>\r\n                    </div>\r\n                  </label>\r\n                )}\r\n                {/* Bank Transfer */}\r\n                {getMethodByType('Bank') && (\r\n                  <label className=\"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"paymentMethod\"\r\n                      value=\"BANK_TRANSFER\"\r\n                      checked={paymentMethod === 'BANK_TRANSFER'}\r\n                      onChange={(e) => setPaymentMethod(e.target.value)}\r\n                      className=\"mr-3\"\r\n                    />\r\n                    <div>\r\n                      <div className=\"font-semibold text-gray-800\">Bank Transfer</div>\r\n                      <div className=\"text-sm text-gray-600\">Transfer to our bank account</div>\r\n                    </div>\r\n                  </label>\r\n                )}\r\n              </div>\r\n              {/* Payment Details */}\r\n              {paymentMethod === 'BANK_TRANSFER' && getMethodByType('Bank') && (\r\n                <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\r\n                  <h3 className=\"font-semibold text-blue-800 mb-2\">Bank Details for Transfer</h3>\r\n                  <div className=\"text-sm text-blue-700 space-y-1\">\r\n                    <p><strong>Bank:</strong> {getMethodByType('Bank').bankName}</p>\r\n                    <p><strong>Account Name:</strong> {getMethodByType('Bank').accountHolder}</p>\r\n                    <p><strong>Account Number:</strong> {getMethodByType('Bank').accountNumber}</p>\r\n                  </div>\r\n                  {getMethodByType('Bank').qrCode && (\r\n                    <div className=\"mt-4 text-center\">\r\n                      <img\r\n                        src={getMethodByType('Bank').qrCode}\r\n                        alt=\"Bank QR Code\"\r\n                        className=\"w-32 h-32 object-contain border border-blue-300 rounded-lg mx-auto\"\r\n                      />\r\n                      <p className=\"text-xs text-blue-600 mt-2\">Scan this QR code to pay</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n              {paymentMethod === 'ESEWA' && getMethodByType('eSewa') && (\r\n                <div className=\"mt-4 p-4 bg-green-50 rounded-lg\">\r\n                  <h3 className=\"font-semibold text-green-800 mb-2\">eSewa Payment Details</h3>\r\n                  <div className=\"text-sm text-green-700 space-y-1\">\r\n                    <p><strong>eSewa ID:</strong> {getMethodByType('eSewa').accountNumber}</p>\r\n                    <p><strong>Merchant Name:</strong> {getMethodByType('eSewa').accountHolder}</p>\r\n                  </div>\r\n                  {getMethodByType('eSewa').qrCode && (\r\n                    <div className=\"mt-4 text-center\">\r\n                      <img\r\n                        src={getMethodByType('eSewa').qrCode}\r\n                        alt=\"eSewa QR\"\r\n                        className=\"w-32 h-32 object-contain border border-green-300 rounded-lg mx-auto\"\r\n                      />\r\n                      <p className=\"text-xs text-green-600 mt-2\">Scan with eSewa app to pay</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n              {/* Payment Screenshot Upload for eSewa and Bank Transfer */}\r\n              {(paymentMethod === 'ESEWA' || paymentMethod === 'BANK_TRANSFER') && (\r\n                <div className=\"mt-4 p-4 bg-yellow-50 rounded-lg\">\r\n                  <h3 className=\"font-semibold text-yellow-800 mb-3\">Payment Verification Required</h3>\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Payment Screenshot *\r\n                      </label>\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleFileUpload}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      />\r\n                      {paymentScreenshot && (\r\n                        <div className=\"mt-2\">\r\n                          <img\r\n                            src={paymentScreenshot}\r\n                            alt=\"Payment Screenshot\"\r\n                            className=\"w-32 h-32 object-contain border border-gray-300 rounded\"\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Transaction ID *\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={transactionId}\r\n                        onChange={(e) => setTransactionId(e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        placeholder=\"Enter transaction ID\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Payment Gateway\r\n                      </label>\r\n                      <select\r\n                        value={paymentGateway}\r\n                        onChange={(e) => setPaymentGateway(e.target.value)}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      >\r\n                        <option value=\"\">Select payment gateway</option>\r\n                        <option value=\"UPI\">UPI</option>\r\n                        <option value=\"Net Banking\">Net Banking</option>\r\n                        <option value=\"Credit Card\">Credit Card</option>\r\n                        <option value=\"Debit Card\">Debit Card</option>\r\n                        <option value=\"Paytm\">Paytm</option>\r\n                        <option value=\"PhonePe\">PhonePe</option>\r\n                        <option value=\"Google Pay\">Google Pay</option>\r\n                        <option value=\"eSewa\">eSewa</option>\r\n                        <option value=\"Other\">Other</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Payment Notes\r\n                      </label>\r\n                      <textarea\r\n                        value={paymentNotes}\r\n                        onChange={(e) => setPaymentNotes(e.target.value)}\r\n                        rows={3}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        placeholder=\"Any additional notes about the payment...\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-3 p-3 bg-yellow-100 rounded-lg\">\r\n                    <p className=\"text-sm text-yellow-800\">\r\n                      <strong>Note:</strong> Please complete your payment first, then upload the screenshot. \r\n                      Admin will verify your payment before processing the order.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Order Notes */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n              <h2 className=\"text-xl font-bold text-gray-800 mb-4\">Order Notes (Optional)</h2>\r\n              <textarea\r\n                value={notes}\r\n                onChange={(e) => setNotes(e.target.value)}\r\n                placeholder=\"Any special instructions for your order...\"\r\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 h-24 resize-none\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Order Summary */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"bg-white rounded-lg shadow-md p-6 sticky top-8\">\r\n              <h2 className=\"text-xl font-bold text-gray-800 mb-4\">Order Summary</h2>\r\n              \r\n              {/* Cart Items */}\r\n              <div className=\"space-y-3 mb-6\">\r\n                {cart.items.map((item) => (\r\n                  <div key={item.product?._id || item.product} className=\"flex items-center space-x-3\">\r\n                    <img\r\n                      src={item.product?.images?.[0] || '/placeholder-image.jpg'}\r\n                      alt={item.product?.name || 'Product'}\r\n                      className=\"w-12 h-12 object-cover rounded\"\r\n                    />\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"font-medium text-gray-800 text-sm\">{item.product?.name || 'Product'}</h3>\r\n                      <p className=\"text-sm text-gray-600\">Qty: {item.quantity}</p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"font-semibold text-gray-800\">NPR {((item.price || 0) * item.quantity).toLocaleString()}</p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Totals */}\r\n              <div className=\"border-t border-gray-200 pt-4 space-y-3\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Subtotal</span>\r\n                  <span className=\"font-semibold\">NPR {cart.totalAmount.toLocaleString()}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Shipping</span>\r\n                  <span className=\"font-semibold\">Free</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Tax</span>\r\n                  <span className=\"font-semibold\">NPR 0</span>\r\n                </div>\r\n                <hr className=\"my-4\" />\r\n                <div className=\"flex justify-between text-lg font-bold\">\r\n                  <span>Total</span>\r\n                  <span className=\"text-gold-600\">NPR {cart.totalAmount.toLocaleString()}</span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Place Order Button */}\r\n              <button\r\n                onClick={handlePlaceOrder}\r\n                disabled={orderLoading}\r\n                className=\"w-full bg-gold-600 text-white py-3 rounded-lg font-semibold hover:bg-gold-700 transition disabled:opacity-50 disabled:cursor-not-allowed mt-6\"\r\n              >\r\n                {orderLoading ? 'Placing Order...' : 'Place Order'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}